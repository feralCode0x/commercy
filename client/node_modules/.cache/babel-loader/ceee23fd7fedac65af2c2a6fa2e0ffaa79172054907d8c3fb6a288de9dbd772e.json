{"ast":null,"code":"import React,{Fragment,useEffect,useContext}from\"react\";import moment from\"moment\";import{fetchOrderByUser}from\"./Action\";import Layout,{DashboardUserContext}from\"./Layout\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const apiURL=process.env.REACT_APP_API_URL;const TableHeader=()=>{return/*#__PURE__*/_jsx(Fragment,{children:/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{className:\"px-4 py-2 border\",children:\"Products\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-4 py-2 border\",children:\"Status\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-4 py-2 border\",children:\"Total\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-4 py-2 border\",children:\"Phone\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-4 py-2 border\",children:\"Address\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-4 py-2 border\",children:\"Transaction Id\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-4 py-2 border\",children:\"Checkout\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-4 py-2 border\",children:\"Processing\"})]})})});};const TableBody=_ref=>{let{order}=_ref;return/*#__PURE__*/_jsx(Fragment,{children:/*#__PURE__*/_jsxs(\"tr\",{className:\"border-b\",children:[/*#__PURE__*/_jsx(\"td\",{className:\"w-48 hover:bg-gray-200 p-2 flex flex-col space-y-1\",children:order.allProduct.map((product,i)=>{return/*#__PURE__*/_jsxs(\"span\",{className:\"block flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(\"img\",{className:\"w-8 h-8 object-cover object-center\",src:\"\".concat(apiURL,\"/uploads/products/\").concat(product.id.pImages[0]),alt:\"productImage\"}),/*#__PURE__*/_jsx(\"span\",{children:product.id.pName}),/*#__PURE__*/_jsxs(\"span\",{children:[product.quantitiy,\"x\"]})]},i);})}),/*#__PURE__*/_jsxs(\"td\",{className:\"hover:bg-gray-200 p-2 text-center cursor-default\",children:[order.status===\"Not processed\"&&/*#__PURE__*/_jsx(\"span\",{className:\"block text-red-600 rounded-full text-center text-xs px-2 font-semibold\",children:order.status}),order.status===\"Processing\"&&/*#__PURE__*/_jsx(\"span\",{className:\"block text-yellow-600 rounded-full text-center text-xs px-2 font-semibold\",children:order.status}),order.status===\"Shipped\"&&/*#__PURE__*/_jsx(\"span\",{className:\"block text-blue-600 rounded-full text-center text-xs px-2 font-semibold\",children:order.status}),order.status===\"Delivered\"&&/*#__PURE__*/_jsx(\"span\",{className:\"block text-green-600 rounded-full text-center text-xs px-2 font-semibold\",children:order.status}),order.status===\"Cancelled\"&&/*#__PURE__*/_jsx(\"span\",{className:\"block text-red-600 rounded-full text-center text-xs px-2 font-semibold\",children:order.status})]}),/*#__PURE__*/_jsxs(\"td\",{className:\"hover:bg-gray-200 p-2 text-center\",children:[\"$\",order.amount,\".00\"]}),/*#__PURE__*/_jsx(\"td\",{className:\"hover:bg-gray-200 p-2 text-center\",children:order.phone}),/*#__PURE__*/_jsx(\"td\",{className:\"hover:bg-gray-200 p-2 text-center\",children:order.address}),/*#__PURE__*/_jsx(\"td\",{className:\"hover:bg-gray-200 p-2 text-center\",children:order.transactionId}),/*#__PURE__*/_jsx(\"td\",{className:\"hover:bg-gray-200 p-2 text-center\",children:moment(order.createdAt).format(\"lll\")}),/*#__PURE__*/_jsx(\"td\",{className:\"hover:bg-gray-200 p-2 text-center\",children:moment(order.updatedAt).format(\"lll\")})]})});};const OrdersComponent=()=>{const{data,dispatch}=useContext(DashboardUserContext);const{OrderByUser:orders}=data;useEffect(()=>{fetchOrderByUser(dispatch);// eslint-disable-next-line react-hooks/exhaustive-deps\n},[]);if(data.loading){return/*#__PURE__*/_jsx(\"div\",{className:\"w-full md:w-9/12 flex items-center justify-center py-24\",children:/*#__PURE__*/_jsx(\"svg\",{className:\"w-12 h-12 animate-spin text-gray-600\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",xmlns:\"https://www.w3.org/2000/svg\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:\"2\",d:\"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15\"})})});}return/*#__PURE__*/_jsx(Fragment,{children:/*#__PURE__*/_jsx(\"div\",{className:\"flex flex-col w-full my-4 md:my-0 md:w-9/12 md:px-8\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"border\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"py-4 px-4 text-lg font-semibold border-t-2 border-yellow-700\",children:\"Orders\"}),/*#__PURE__*/_jsx(\"hr\",{}),/*#__PURE__*/_jsxs(\"div\",{className:\"overflow-auto bg-white shadow-lg p-4\",children:[/*#__PURE__*/_jsxs(\"table\",{className:\"table-auto border w-full my-2\",children:[/*#__PURE__*/_jsx(TableHeader,{}),/*#__PURE__*/_jsx(\"tbody\",{children:orders&&orders.length>0?orders.map((item,i)=>{return/*#__PURE__*/_jsx(TableBody,{order:item},i);}):/*#__PURE__*/_jsx(\"tr\",{children:/*#__PURE__*/_jsx(\"td\",{colSpan:\"8\",className:\"text-xl text-center font-semibold py-8\",children:\"No order found\"})})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-sm text-gray-600 mt-2\",children:[\"Total \",orders&&orders.length,\" order found\"]})]})]})})});};const UserOrders=props=>{return/*#__PURE__*/_jsx(Fragment,{children:/*#__PURE__*/_jsx(Layout,{children:/*#__PURE__*/_jsx(OrdersComponent,{})})});};export default UserOrders;","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}