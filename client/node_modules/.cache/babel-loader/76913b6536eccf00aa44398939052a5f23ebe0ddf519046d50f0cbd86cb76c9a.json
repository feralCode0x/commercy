{"ast":null,"code":"import _objectSpread from\"/home/zetecoder/commercy/client/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React from\"react\";import{postAddReview,postDeleteReview}from\"./FetchApi\";import{isAuthenticate}from\"../auth/fetchApi\";import{jsx as _jsx}from\"react/jsx-runtime\";export const Alert=(color,text)=>/*#__PURE__*/_jsx(\"div\",{className:\"bg-\".concat(color,\"-200 px-4 py-2 my-2 rounded\"),children:text});export const reviewSubmitHanlder=(fData,setFdata,fetchData)=>{if(!fData.rating||!fData.review){setFdata(_objectSpread(_objectSpread({},fData),{},{error:\"Rating and review must be required\"}));}else if(!isAuthenticate()){setFdata(_objectSpread(_objectSpread({},fData),{},{error:\"You must need login to review\"}));}else{addReview(fData,setFdata,fetchData);}};export const deleteReview=async(reviewId,productId,fetchData,setFdata)=>{try{let responseData=await postDeleteReview({rId:reviewId,pId:productId});if(responseData.success){fetchData();setFdata({success:responseData.success});}else if(responseData.error){fetchData();}}catch(error){console.log(error);}};export const addReview=async(fData,setFdata,fetchData)=>{let formData={rating:fData.rating,review:fData.review,pId:fData.pId,uId:JSON.parse(localStorage.getItem(\"jwt\")).user._id};try{let responseData=await postAddReview(formData);if(responseData.success){setFdata(_objectSpread(_objectSpread({},fData),{},{success:responseData.success,review:\"\",rating:\"\"}));fetchData();}else if(responseData.error){setFdata(_objectSpread(_objectSpread({},fData),{},{error:responseData.error,review:\"\",rating:\"\"}));fetchData();}}catch(error){console.log(error);}};","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}