{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useState, useEffect } from 'react';\nimport axios from \"axios\";\nconst apiURL = process.env.REACT_APP_API_URL;\nconst BearerToken = () => localStorage.getItem(\"jwt\") ? JSON.parse(localStorage.getItem(\"jwt\")).token : false;\n_c = BearerToken;\nconst Headers = () => {\n  return {\n    headers: {\n      Authorization: `Bearer ${BearerToken()}`\n    }\n  };\n};\n_c2 = Headers;\nexport const getAllCategory = async () => {\n  try {\n    let res = await axios.get(`${apiURL}/api/category/all-category`, {\n      mode: 'cors'\n    }, Headers());\n    return res.data;\n  } catch (error) {\n    console.log(error);\n  }\n};\nexport const createCategory = async ({\n  cName,\n  cImage,\n  cDescription,\n  cStatus\n}) => {\n  let formData = new FormData();\n  formData.append(\"cImage\", cImage);\n  formData.append(\"cName\", cName);\n  formData.append(\"cDescription\", cDescription);\n  formData.append(\"cStatus\", cStatus);\n  try {\n    let res = await axios.post(`${apiURL}/api/category/add-category`, formData, Headers());\n    return res.data;\n  } catch (error) {\n    console.log(error);\n  }\n};\nexport const editCategory = async (cId, des, status) => {\n  let data = {\n    cId: cId,\n    cDescription: des,\n    cStatus: status\n  };\n  try {\n    let res = await axios.post(`${apiURL}/api/category/edit-category`, data, Headers());\n    return res.data;\n  } catch (error) {\n    console.log(error);\n  }\n};\nexport const deleteCategory = async cId => {\n  try {\n    let res = await axios.post(`${apiURL}/api/category/delete-category`, {\n      cId\n    }, Headers());\n    return res.data;\n  } catch (error) {\n    console.log(error);\n  }\n};\nfunction useSetData() {\n  _s();\n  const [isLoading, setIsLoading] = useState(true);\n  useEffect(() => {\n    const fetchData = async () => {\n      try {\n        // Simulate API call\n        await new Promise(resolve => setTimeout(resolve, 9000));\n        // Process data\n        setIsLoading(false);\n      } catch (error) {\n        console.error(\"Error fetching data:\", error);\n        setIsLoading(false); // Set to false even on error\n      }\n    };\n    fetchData();\n  }, []); // Empty dependency array means it runs once on mount\n}\n_s(useSetData, \"Yt82d/dvZsn5nYh5sqDQjv+rJ38=\");\n;\nvar _c, _c2;\n$RefreshReg$(_c, \"BearerToken\");\n$RefreshReg$(_c2, \"Headers\");","map":{"version":3,"names":["useState","useEffect","axios","apiURL","process","env","REACT_APP_API_URL","BearerToken","localStorage","getItem","JSON","parse","token","_c","Headers","headers","Authorization","_c2","getAllCategory","res","get","mode","data","error","console","log","createCategory","cName","cImage","cDescription","cStatus","formData","FormData","append","post","editCategory","cId","des","status","deleteCategory","useSetData","_s","isLoading","setIsLoading","fetchData","Promise","resolve","setTimeout","$RefreshReg$"],"sources":["/home/zetecoder/commercy/client/src/components/admin/categories/FetchApi.js"],"sourcesContent":["import { useState, useEffect } from 'react';\nimport axios from \"axios\";\nconst apiURL = process.env.REACT_APP_API_URL;\n\nconst BearerToken = () =>\n  localStorage.getItem(\"jwt\")\n    ? JSON.parse(localStorage.getItem(\"jwt\")).token\n    : false;\nconst Headers = () => {\n  return {\n    headers: {\n         Authorization: `Bearer ${BearerToken()}`,\n    },\n  };\n};\n\nexport const getAllCategory = async () => {\n  try {\n    let res = await axios.get(`${apiURL}/api/category/all-category`, { mode: 'cors' }, Headers());\n    return res.data;\n  } catch (error) {\n    console.log(error);\n  }\n};\n\nexport const createCategory = async ({\n  cName,\n  cImage,\n  cDescription,\n  cStatus,\n}) => {\n  let formData = new FormData();\n  formData.append(\"cImage\", cImage);\n  formData.append(\"cName\", cName);\n  formData.append(\"cDescription\", cDescription);\n  formData.append(\"cStatus\", cStatus);\n\n  try {\n    let res = await axios.post(\n      `${apiURL}/api/category/add-category`,\n      formData,\n      Headers()\n    );\n    return res.data;\n  } catch (error) {\n    console.log(error);\n  }\n};\n\nexport const editCategory = async (cId, des, status) => {\n  let data = { cId: cId, cDescription: des, cStatus: status };\n  try {\n    let res = await axios.post(\n      `${apiURL}/api/category/edit-category`,\n      data,\n      Headers()\n    );\n    return res.data;\n  } catch (error) {\n    console.log(error);\n  }\n};\n\nexport const deleteCategory = async (cId) => {\n  try {\n    let res = await axios.post(\n      `${apiURL}/api/category/delete-category`,\n      { cId },\n      Headers()\n    );\n    return res.data;\n  } catch (error) {\n    console.log(error);\n  }\n};\n\nfunction useSetData() {\n const [isLoading, setIsLoading] = useState(true);  \n useEffect(() => {\n        const fetchData = async () => {\n            try {\n                // Simulate API call\n                await new Promise(resolve => setTimeout(resolve, 9000)); \n                // Process data\n                setIsLoading(false);\n            } catch (error) {\n                console.error(\"Error fetching data:\", error);\n                setIsLoading(false); // Set to false even on error\n            }\n        };\n\n        fetchData();\n    }, []); // Empty dependency array means it runs once on mount\n};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}