{"ast":null,"code":"import React,{Fragment,useContext,useState,useEffect}from\"react\";import{OrderContext}from\"./index\";import{getAllOrder,editCategory}from\"./FetchApi\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const UpdateOrderModal=props=>{const{data,dispatch}=useContext(OrderContext);const[status,setStatus]=useState(\"\");const[oId,setOid]=useState(\"\");useEffect(()=>{setOid(data.updateOrderModal.oId);setStatus(data.updateOrderModal.status);// eslint-disable-next-line react-hooks/exhaustive-deps\n},[data.updateOrderModal.modal]);const fetchData=async()=>{let responseData=await getAllOrder();if(responseData.Orders){dispatch({type:\"fetchOrderAndChangeState\",payload:responseData.Orders});}};const submitForm=async()=>{dispatch({type:\"loading\",payload:true});let responseData=await editCategory(oId,status);if(responseData.error){dispatch({type:\"loading\",payload:false});}else if(responseData.success){console.log(responseData.success);dispatch({type:\"updateOrderModalClose\"});fetchData();dispatch({type:\"loading\",payload:false});}};return/*#__PURE__*/_jsxs(Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{onClick:e=>dispatch({type:\"updateOrderModalClose\"}),className:\"\".concat(data.updateOrderModal.modal?\"\":\"hidden\",\" fixed top-0 left-0 z-30 w-full h-full bg-black opacity-50\")}),/*#__PURE__*/_jsx(\"div\",{className:\"\".concat(data.updateOrderModal.modal?\"\":\"hidden\",\" fixed inset-0 m-4  flex items-center z-30 justify-center\"),children:/*#__PURE__*/_jsxs(\"div\",{className:\"relative bg-white w-11/12 md:w-3/6 shadow-lg flex flex-col items-center space-y-4  overflow-y-auto px-4 py-4 md:px-8\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between w-full pt-4\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-left font-semibold text-2xl tracking-wider\",children:\"Update Order\"}),/*#__PURE__*/_jsx(\"span\",{style:{background:\"#303031\"},onClick:e=>dispatch({type:\"updateOrderModalClose\"}),className:\"cursor-pointer text-gray-100 py-2 px-2 rounded-full\",children:/*#__PURE__*/_jsx(\"svg\",{className:\"w-6 h-6\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",xmlns:\"https://www.w3.org/2000/svg\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M6 18L18 6M6 6l12 12\"})})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col space-y-1 w-full\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"status\",children:\"Order Status\"}),/*#__PURE__*/_jsxs(\"select\",{value:status,name:\"status\",onChange:e=>setStatus(e.target.value),className:\"px-4 py-2 border focus:outline-none\",id:\"status\",children:[/*#__PURE__*/_jsx(\"option\",{name:\"status\",value:\"Not processed\",children:\"Not processed\"}),/*#__PURE__*/_jsx(\"option\",{name:\"status\",value:\"Processing\",children:\"Processing\"}),/*#__PURE__*/_jsx(\"option\",{name:\"status\",value:\"Shipped\",children:\"Shipped\"}),/*#__PURE__*/_jsx(\"option\",{name:\"status\",value:\"Delivered\",children:\"Delivered\"}),/*#__PURE__*/_jsx(\"option\",{name:\"status\",value:\"Cancelled\",children:\"Cancelled\"})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"flex flex-col space-y-1 w-full pb-4 md:pb-6\",children:/*#__PURE__*/_jsx(\"button\",{style:{background:\"#303031\"},onClick:e=>submitForm(),className:\"rounded-full bg-gray-800 text-gray-100 text-lg font-medium py-2\",children:\"Update category\"})})]})})]});};export default UpdateOrderModal;","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}