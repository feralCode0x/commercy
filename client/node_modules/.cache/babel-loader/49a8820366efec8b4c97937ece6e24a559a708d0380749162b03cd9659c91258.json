{"ast":null,"code":"import React,{Fragment,useContext,useState,useEffect}from\"react\";import{CategoryContext}from\"./index\";import{editCategory,getAllCategory}from\"./FetchApi\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const EditCategoryModal=props=>{const{data,dispatch}=useContext(CategoryContext);const[des,setDes]=useState(\"\");const[status,setStatus]=useState(\"\");const[cId,setCid]=useState(\"\");useEffect(()=>{setDes(data.editCategoryModal.des);setStatus(data.editCategoryModal.status);setCid(data.editCategoryModal.cId);// eslint-disable-next-line react-hooks/exhaustive-deps\n},[data.editCategoryModal.modal]);const fetchData=async()=>{let responseData=await getAllCategory();if(responseData.Categories){dispatch({type:\"fetchCategoryAndChangeState\",payload:responseData.Categories});}};const submitForm=async()=>{dispatch({type:\"loading\",payload:true});let edit=await editCategory(cId,des,status);if(edit.error){console.log(edit.error);dispatch({type:\"loading\",payload:false});}else if(edit.success){console.log(edit.success);dispatch({type:\"editCategoryModalClose\"});setTimeout(()=>{fetchData();dispatch({type:\"loading\",payload:false});},1000);}};return/*#__PURE__*/_jsxs(Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{onClick:e=>dispatch({type:\"editCategoryModalClose\"}),className:\"\".concat(data.editCategoryModal.modal?\"\":\"hidden\",\" fixed top-0 left-0 z-30 w-full h-full bg-black opacity-50\")}),/*#__PURE__*/_jsx(\"div\",{className:\"\".concat(data.editCategoryModal.modal?\"\":\"hidden\",\" fixed inset-0 m-4  flex items-center z-30 justify-center\"),children:/*#__PURE__*/_jsxs(\"div\",{className:\"relative bg-white w-11/12 md:w-3/6 shadow-lg flex flex-col items-center space-y-4  overflow-y-auto px-4 py-4 md:px-8\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between w-full pt-4\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-left font-semibold text-2xl tracking-wider\",children:\"Add Category\"}),/*#__PURE__*/_jsx(\"span\",{style:{background:\"#303031\"},onClick:e=>dispatch({type:\"editCategoryModalClose\"}),className:\"cursor-pointer text-gray-100 py-2 px-2 rounded-full\",children:/*#__PURE__*/_jsx(\"svg\",{className:\"w-6 h-6\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",xmlns:\"https://www.w3.org/2000/svg\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M6 18L18 6M6 6l12 12\"})})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col space-y-1 w-full\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"description\",children:\"Category Description\"}),/*#__PURE__*/_jsx(\"textarea\",{value:des,onChange:e=>setDes(e.target.value),className:\"px-4 py-2 border focus:outline-none\",name:\"description\",id:\"description\",cols:5,rows:5})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col space-y-1 w-full\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"status\",children:\"Category Status\"}),/*#__PURE__*/_jsxs(\"select\",{value:status,name:\"status\",onChange:e=>setStatus(e.target.value),className:\"px-4 py-2 border focus:outline-none\",id:\"status\",children:[/*#__PURE__*/_jsx(\"option\",{name:\"status\",value:\"Active\",children:\"Active\"}),/*#__PURE__*/_jsx(\"option\",{name:\"status\",value:\"Disabled\",children:\"Disabled\"})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"flex flex-col space-y-1 w-full pb-4 md:pb-6\",children:/*#__PURE__*/_jsx(\"button\",{style:{background:\"#303031\"},onClick:e=>submitForm(),className:\"rounded-full bg-gray-800 text-gray-100 text-lg font-medium py-2\",children:\"Create category\"})})]})})]});};export default EditCategoryModal;","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}